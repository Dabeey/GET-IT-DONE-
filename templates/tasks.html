{% extends 'base.html' %}

{% block title %}Tasks - Get It Done!{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Tasks</h1>
    <ul class="list-group">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <strong>{{ task.title }}</strong>
                <p class="mb-0 text-muted">{{ task.description or "No description" }}</p>
                <small>Due: {{ task.due_date or "No due date" }}</small>
            </div>
            <div>
                <form method="POST" action="{{ url_for('complete_task', task_id=task.id) }}" class="d-inline">
                    {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-sm {% if task.status.value == 'Done' %}btn-success{% else %}btn-outline-success{% endif %}">
                        {% if task.status.value == 'Done' %}Completed{% else %}Mark as Complete{% endif %}
                    </button>
                </form>
            </div>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}